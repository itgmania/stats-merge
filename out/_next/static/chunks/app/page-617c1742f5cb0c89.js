(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7581:function(e,t,l){Promise.resolve().then(l.bind(l,9547))},9547:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return C}});var n=l(7437),r=l(3621),s=l(4733),i=l(6621),o=l(4412),a=l(2265),c=l(6673);let d=e=>{let{filename:t,formData:l,setFormData:d}=e,x=(0,a.useCallback)(e=>{if(!e.some(e=>e.name===t))return;let n=new FileReader;n.onabort=()=>console.log("file reading was aborted"),n.onerror=()=>console.log("file reading has failed"),n.onload=()=>{let e=n.result;d({...l,[t]:e})},n.readAsText(e[0])},[t,d,l]),{getRootProps:m,getInputProps:h,isDragActive:u}=(0,c.uI)({onDrop:x,accept:{"text/xml":[".xml"]},maxFiles:1}),j=t in l;return(0,n.jsxs)(r.xu,{...m(),py:10,flex:1,border:"3px dashed lightgray",bgColor:u?"lightgreen":void 0,children:[(0,n.jsx)(s.I,{...h({name:t,multiple:!1,type:"file"})}),(0,n.jsxs)(i.k,{justifyContent:"center",alignItems:"center",children:[j&&(0,n.jsx)(o.n,{color:"green.500"}),(0,n.jsx)(r.xu,{mx:2,color:j?"green.500":"black",children:j?"Uploaded":"Drop ".concat(t," here")})]})]})};var x=l(2574),m=l(839),h=l(2606),u=l(6876),j=l(1546);let f=()=>(0,n.jsx)(i.k,{py:4,mt:8,direction:{base:"column",md:"row"},children:(0,n.jsx)(x.W,{maxW:"container.md",children:(0,n.jsxs)(i.k,{children:[(0,n.jsx)(i.k,{direction:"column",children:(0,n.jsx)(m.x,{variant:"sub",children:"by zexyu"})}),(0,n.jsxs)(i.k,{ml:"auto",children:[(0,n.jsx)(h.r,{isExternal:!0,href:"https://twitter.com/zexyu",children:(0,n.jsx)(u.h,{color:"gray.500",variant:"link","aria-label":"Twitter",size:"sm",as:j.h3E})}),(0,n.jsx)(h.r,{isExternal:!0,href:"https://github.com/adketuri/itg-stats-merge-web",ml:3,children:(0,n.jsx)(u.h,{color:"gray.500",variant:"link","aria-label":"GitHub",size:"sm",as:j.RrF})})]})]})})}),g=["Stats.xml","ECFA-Stats.xml"];var b=l(6988),p=l(709),w=l(3494),y=l(1504),k=l(188);function C(){let[e,t]=(0,a.useState)(!1),l=async()=>{t(!0);let e=await new Promise(e=>{setTimeout(()=>{e((0,k.e$)(r["Stats.xml"]))})}),l=await new Promise(e=>{setTimeout(()=>{e((0,k.e$)(r["ECFA-Stats.xml"]))})});if(e&&l){let n=(0,k.$e)(e,l),r=new Blob([n],{type:"text/xml"}),s=window.URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.setAttribute("download","Stats.xml"),document.body.appendChild(i),i.click(),document.body.removeChild(i),t(!1)}},[r,s]=(0,a.useState)({}),o=Object.keys(r).length<2;return(0,n.jsxs)(x.W,{display:"flex",flexDirection:"column",flex:1,height:"100vh",children:[(0,n.jsx)(i.k,{direction:"column",justifyContent:"center",alignItems:"center",flex:1,children:(0,n.jsxs)(b.Z,{children:[(0,n.jsxs)(p.O,{pb:0,children:[(0,n.jsx)(m.x,{fontSize:"xl",mb:5,children:"Stats Merger"}),(0,n.jsxs)(m.x,{children:["Click or drag to upload your ",(0,n.jsx)("strong",{children:"Stats.xml"})," and ",(0,n.jsx)("strong",{children:"ECFA-Stats.xml"})," files below, then select ",(0,n.jsx)("strong",{children:"Download"})," to download the merged scores."]})]}),(0,n.jsxs)(w.e,{display:"flex",flexDir:"column",pt:0,children:[(0,n.jsx)(i.k,{textAlign:"center",gap:5,my:5,flexDir:["column","row"],children:g.map(e=>(0,n.jsx)(d,{filename:e,formData:r,setFormData:s},e))}),(0,n.jsx)(y.z,{type:"submit",isLoading:e,isDisabled:o,colorScheme:"green",onClick:l,children:"Download"})]})]})}),(0,n.jsx)(f,{})]})}}},function(e){e.O(0,[259,866,728,101,971,938,744],function(){return e(e.s=7581)}),_N_E=e.O()}]);